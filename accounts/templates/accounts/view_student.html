
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">


<center><h2 style = 'font-size: 30px;'>Student List</h2></center>
<form method="GET">
    <div class="input-group">
         <span class="input-group-text">
    <i class="bi bi-search"></i>
  </span>
    <input type="search" 
    name="q" 
    placeholder="Search by name or email"      
    value="{{ request.GET.q }}" 
    class = "form-control" >

    <button type="submit" class = 'btn btn-primary'>Search</button>
    </div>
</form>

<a href="{% url 'student' %}">Add New Student</a>
<br><br>
<table class="table table-bordered table-striped">

    <tr>
        <th>Name</th>
        <th>Age</th>
        <th>Address</th>
        <th>Email</th>
        <th>Edit Details</th>
        <th>Delete </th>
    </tr>

    {% for student in students %}
    <tr>

        <td>{{ student.name }}</td>
        <td>{{ student.age }}</td>
        <td>{{ student.address }}</td>
        <td>{{ student.email }}</td>
                <td>
    <a href="{% url 'update_student' student.id %}">Edit</a>
        </td>
    <td><a href="{% url 'delete_student' student.id %}"
   onclick="return confirm('Are you sure you want to delete this student?')">
   Delete
    </a>
    </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="4">No students found</td>
        
    </tr>
   
    {% endfor %}


    
     
</table>
<nav>
  <ul class="pagination justify-content-center">

    {% if students.has_previous %}
      <li class="page-item">
        <a class="page-link"
           href="?page={{ students.previous_page_number }}{% if query %}&q={{ query }}{% endif %}">
          Previous
        </a>
      </li>
    {% endif %}

    <li class="page-item active">
      <span class="page-link">
        Page {{ students.number }} of {{ students.paginator.num_pages }}
      </span>
    </li>

    {% if students.has_next %}
      <li class="page-item">
        <a class="page-link"
           href="?page={{ students.next_page_number }}{% if query %}&q={{ query }}{% endif %}">
          Next
        </a>
      </li>
    {% endif %}

  </ul>
</nav>


